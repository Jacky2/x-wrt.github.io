# IPv6基础: DNS

## 1. 介绍
## 2. DNS for IPv6
### 2.1 基础
+ IPv4的DNS类型是[A](#), 而IPv6的DNS类型是[AAAA](#)
+ IPv6的DNS服务器和IPv4的DNS服务器端口都是[53](#)
+ DNS的报文是udp协议, 但是不管是解析IPv6还是是IPv4的域名, 与IP层协议无关, 可以采用IPv4协议或者是IPv6协议.

### 2.2 浏览器如何决定使用IPv4协议还是IPv6协议
#### (1)
首先, 在浏览器访问一个资源:
+ IPv4的URL格式: [http://1.2.3.4/index.html](#)
+ IPv6的URL格式: [http://[2001:1234::1]/index.html](#)

#### (2)
那么, 通过域名访问IPv6站点:
浏览器(或者说客户端程序)如何选择是通过IPv4还是IPv6协议访问服务呢?一般这是由应用程序本身决定的.
+ 当我们在浏览器输入一个域名时, 比如: ipv6.test.com, 那么浏览器会查询该域名对应的IPv4地址以及IPv6地址.
+ 当然由于主机拥有IPv4和IPv6地址, 那么发起DNS查询IPv4或者IPv6时会使用IPv4协议和IPv6协议分别去查询.
+ 当浏览器查询查询地址时候, 可能或选择IPv4地址访问服务,也可能选择IPv6地址访问, 那么取决程序本身的设计.
